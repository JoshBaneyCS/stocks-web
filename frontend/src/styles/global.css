@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base ─── */
@layer base {
  html {
    color-scheme: dark;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-terminal-bg text-terminal-text font-mono;
  }

  ::selection {
    @apply bg-terminal-accent/30 text-terminal-text;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-terminal-bg;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-terminal-border rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-terminal-muted;
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: #1f2937 #0a0e17;
  }
}

/* ─── Components ─── */
@layer components {
  /* Panel component */
  .terminal-panel {
    @apply bg-terminal-panel border border-terminal-border rounded-lg;
  }

  /* Input styles */
  .terminal-input {
    @apply bg-terminal-bg border border-terminal-border rounded px-3 py-2
           text-terminal-text placeholder-terminal-muted/50
           focus:outline-none focus:border-terminal-accent focus:ring-1 focus:ring-terminal-accent/30
           transition-colors;
  }

  /* Button: Primary */
  .btn-primary {
    @apply bg-terminal-accent hover:bg-terminal-accent/80
           text-white font-medium px-4 py-2 rounded
           transition-colors disabled:opacity-50 disabled:cursor-not-allowed
           focus:outline-none focus:ring-2 focus:ring-terminal-accent/50;
  }

  /* Button: Danger */
  .btn-danger {
    @apply bg-terminal-red hover:bg-terminal-red/80
           text-white font-medium px-4 py-2 rounded
           transition-colors disabled:opacity-50 disabled:cursor-not-allowed
           focus:outline-none focus:ring-2 focus:ring-terminal-red/50;
  }

  /* Button: Ghost */
  .btn-ghost {
    @apply bg-transparent hover:bg-terminal-border/50
           text-terminal-muted hover:text-terminal-text
           font-medium px-4 py-2 rounded
           transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Table styles */
  .terminal-table {
    @apply w-full text-sm;
  }

  .terminal-table thead tr {
    @apply border-b border-terminal-border;
  }

  .terminal-table th {
    @apply text-xs text-terminal-muted uppercase tracking-wider px-4 py-3 text-left;
  }

  .terminal-table tbody tr {
    @apply border-b border-terminal-border/50 hover:bg-terminal-border/30 transition-colors;
  }

  .terminal-table tbody tr:nth-child(even) {
    @apply bg-terminal-bg/50;
  }

  .terminal-table td {
    @apply px-4 py-2.5;
  }
}

/* ─── Utilities ─── */
@layer utilities {
  /* Live dot pulsing animation */
  .live-dot {
    animation: pulse-dot 2s ease-in-out infinite;
  }

  @keyframes pulse-dot {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
    }
    50% {
      opacity: 0.8;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0);
    }
  }

  /* Market closed overlay */
  .market-closed-overlay {
    filter: grayscale(1) opacity(0.5);
    position: relative;
  }

  /* Fade-in animation */
  .fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Truncate with ellipsis */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ─── Responsive ─── */
@media (max-width: 640px) {
  .terminal-panel {
    @apply rounded-md;
  }

  .btn-primary,
  .btn-danger,
  .btn-ghost {
    @apply px-3 py-1.5 text-sm;
  }
}
